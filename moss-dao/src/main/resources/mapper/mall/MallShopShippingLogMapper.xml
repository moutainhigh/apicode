<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ycandyz.master.dao.mall.MallShopShippingLogDao">

    <select id="queryByOrderNo" parameterType="java.lang.String" resultType="com.ycandyz.master.dto.mall.MallShopShippingLogDTO">
        select
            id as id,
            shop_shipping_no as shopShippingNo,
            company_code as companyCode,
            company as company,
            `number` as number,
            context as context,
            area_code as areaCode,
            area_name as areaName,
            shipping_money as shippingMoney,
            status as status,
            is_check as isCheck,
            log_at as logAt,
            created_time as createdTime,
            updated_time as updatedTime
        from mall_shop_shipping_log
        where shop_shipping_no=#{orderNo} and status=3
    </select>

    <select id="selectByShipNumberLast" parameterType="java.lang.String" resultType="com.ycandyz.master.dto.mall.MallShopShippingLogDTO">
        select
            id as id,
            shop_shipping_no as shopShippingNo,
            company_code as companyCode,
            company as company,
            `number` as number,
            context as context,
            area_code as areaCode,
            area_name as areaName,
            shipping_money as shippingMoney,
            status as status,
            is_check as isCheck,
            log_at as logAt,
            created_time as createdTime,
            updated_time as updatedTime
        from mall_shop_shipping_log
        where `number`=#{number}
        order by createdTime desc
        limit 1
    </select>
</mapper>